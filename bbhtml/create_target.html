<html>
<head>
  <title>Test page</title>
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
  <meta http-equiv="content-language" content="en">
  <meta name="author" content="Petr Kubanek (petr@kubanek.net)">
</head>

<script language="JavaScript" src="js/setgetapi.js" type="text/javascript"></script>
<script language='JavaScript'>
function searchTarget(text, opt)
{
	function fillTargets(targets)
	{
		opt.length = 0;
		for (i in targets.d)
		{
			var newTarget = document.createElement('option');
			newTarget.value = targets.d[i][0];
			newTarget.text = targets.d[i][1];

			opt.add(newTarget, null);
		}
	}
	jsonCall(encodeURI('api/tbyname?n=' + text), fillTargets);
}

</script>

<body>
  <form name='target'>
    <input type='text' name='target'/>
    <select name='available'></select>
    <button type='button' onClick='searchTarget(this.form.target.value, this.form.available);'>Search</button>
  </form>
</body>
