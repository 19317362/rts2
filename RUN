RTS 2 - jak na to.

Dodrzujte prosim zadane uzivatele, jinak je vice nez pravdepodobne, ze
se nedopracujete k funkcnimu rts2!!

Pokud neco nebude fungovat:
- nepropadejte panice:)
- zkuste me zavolat (staci prozvonit), pokud nejsem primo na
 Ondrejove, vetsinou neni problem se pripojit a pomoci s poustenim

1) Spustne nmonitor
lascaux:/home/petr/rts2/src/monitor/nmonitor

Musi zobrazovat udaje o zarizenich C1, C0, T1 a poctu pripojenych klientech.
Pokud pise u nejakeho zarizeni NOT READY, a vy jsi jste jisty tim, za zarizeni
je pripojeno k dalekohledu, zkuste restart popsany v kroku 2. Restart provedte
v pripade, ze nejake zarizeni nebezi (samosebou se muzete omezit na kus, ktery
vam nebezi)

Obrazovka nmonitoru by mela vypadat nasledovne:


 ==== Name: C1 ======      ==== Name: C0 ======
 Typ: ST8                  Typ: ST8                   status:Night
 Ser: 819503145            Ser: 819901486              -1-nmonitor
 Siz: [1536x1024]          Siz: [1536x1024]            -1-grbc_waiting
 S/A: -9.8 +23.6 oC        S/A: -14.8 +18.8 oC         20*
 CCD: -9.790 oC            CCD: -15.230 oC             -1-nmonitor
 CPo: 81.6 %               CPo: 89.8 %
 Fan: on                   Fan: on
 status: img_chip - 0      status: img_chip - 0
 status: trc_chip - 0      status: trc_chip - 0
 status: priority - 0      status: priority - 0
 ==== Name: T1 ======                                > T1.ready
 R/Az/D: 09:32:54 +14 S                              : authorization_key T1 184
 D/Al: -0.022 +39                                    0247282
 Lon: +345.383                                       : +000 Success
 Lat: +49.900                                        > T1.info
 Lsid: 10:17:57                                      > C0.ready
 Gsid: 09:19:29 9.324723                             : authorization_key C0 103
 status: telescope - 0                               1591306
 status: priority - 0                                : +000 Success
                                                     > C0.info
2) Pokud neco nebezi (v podstate dost vyjimecny pripad)

a) na lascaux spustit centralni server pod libovolnym uzivatelem 
(doporucena sluzba) - 

lascaux:/home/petr/rts2/src/serverd/serverd

b) na c0 pustit camd a teld (pod rootem):
c0:/etc/init.d/rts2 restart

c) na c1 spustit camd (pod rootem):
c1:/etc/init.d/rts2 restart

Poznamka: tento prikaz vede vetsinou k padu c1, c1 je lepsi rebootovat prikazem restart. Je to chyba, na jejim odstraneni se pracuje.

2)

d) na lascaux planovac pod sluzbou nebo jinym uzivatelem s PRISTUPEM NA
POSTGRESQL a clenem skupiny rts2 (pristup rw do /images, /darks):
lascaux:/home/petr/rts2/src/plan/planc 

Vhodna volba je uzivatel sluzba.

Planovac vytvori prvni polozku planu, pote ji spusti. Dalekohled by se
zacne presouvat, zacne se exponovat, snimky lezou do /images.

6) na lascaux grbovac pod sluzbou nebo jinym uzivatelem s pristupem na
postgresql a clenem skupiny rts2:
lascaux:/home/petr/rts2/src/grb/grbc

7) monitoring
pousti se pomoci
lascaux:/home/petr/rts2/src/monitor/nmonitor

Ma nekolik zajimavych vlasnosti:

- aktualizuje se pri zmene stavu nebo pri stisku F5
- stiskem F2 prejde centralni server do stavu off, stiskem F3 do stavu
  on (jednoho ze stavu Day|Dusk|Night|Down)
- stiskem ctrl+c nebo F10 se ukonci
- nahore je mozne psat primo prikazy, ktere oddelujeme entrem.
  Napriklad (pokud mate pripojeno zarizeni C0):

  C0.cooltemp -20

  Nebo (pokud mate teld a nebezi nic s prioritou)

  priority 1
  teld.park

  V pravem dolnim rohu se zobrazuji vysledky techto cinnosti
  (komunikace klient-server).

Pokud to nic nedela, vse restartovat a pustit na cisto - nicmene
nemelo by se to jiz stavat. 

Logy jdou do [lascaux|c0|c1]:/var/log/rts2.

grbovac by mel __teoreticky__ zvladat INTEGRAL a HETE, prakticky to
zatim nebylo overene (HETE by melo chodit).

Petr Kubanek
