DROP TABLE grb;

DROP TABLE targets;

CREATE TABLE targets (
	tar_id		integer PRIMARY KEY,
	tar_name	varchar(150),
	tar_ra		float4,
	tar_dec		float4,
	tar_comment	text
);

CREATE TABLE grb (
	grb_id		integer,
	grb_seqn	integer,
	grb_date	timestamp,
	grb_last_update	timestamp
) INHERITS (targets);

DROP SEQUENCE darks_id;

CREATE SEQUENCE darks_id;

DROP TABLE darks;

CREATE TABLE darks (
	dark_name	varchar(250) NOT NULL,
	dark_date	timestamp,
	dark_exposure	integer,
	dark_temperature integer
);

DROP SEQUENCE tar_id;

CREATE SEQUENCE tar_id;

DROP TABLE observations;

CREATE TABLE observations (
	tar_id		integer REFERENCES targets (tar_id),
	obs_id		integer PRIMARY KEY,
	obs_start	timestamp,
	obs_duration	integer -- in sec	
);

DROP SEQUENCE obs_id;

CREATE SEQUENCE obs_id;
